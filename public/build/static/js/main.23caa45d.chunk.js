(this["webpackJsonppanel-app"]=this["webpackJsonppanel-app"]||[]).push([[0],{386:function(e,t){},388:function(e,t){},399:function(e,t){},401:function(e,t){},428:function(e,t){},430:function(e,t){},431:function(e,t){},436:function(e,t){},438:function(e,t){},444:function(e,t){},446:function(e,t){},465:function(e,t){},477:function(e,t){},480:function(e,t){},487:function(e,t,n){"use strict";n.r(t);n(135),n(304),n(315),n(317),n(318),n(320),n(321),n(322),n(324),n(325),n(326),n(327),n(328),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358);var c=n(0),a=n(88),i=n.n(a),r=n(30),s=n(22),j=(n(365),n(5)),l=n(489),o=n(490),b=n(89),d=n(2),u=function(e){var t=e.id,n=Object(c.useState)(window.APP.config),a=Object(s.a)(n,2),i=a[0],l=a[1];return Object(c.useEffect)((function(){console.log(i)})),Object(d.jsxs)(j.p,{id:t,children:[Object(d.jsx)(j.q,{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(d.jsxs)(j.k,{children:[Object(d.jsx)(j.l,{children:"Config"}),Object(d.jsx)(j.j,{children:Object.entries(i).map((function(e,t){return Object(d.jsx)(j.i,{top:e[0],children:Object(d.jsx)(j.m,{onChange:function(t){console.log(i),l(Object(r.a)(Object(r.a)({},i),{},Object(b.a)({},e[0],t.target.value)))},value:e[1]})},t)}))})]}),Object(d.jsx)(j.c,{size:"l",onClick:function(){window.APP.config=i},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})},O=n(220),h=n.n(O),x=n(134),p=n.n(x),g=function(e){var t=e.id,n=e.usemodal,a=Object(c.useState)("VACCINE_CERT"),i=Object(s.a)(a,2),l=i[0],o=i[1],b=Object(c.useState)({en:"COVID-19 vaccination certificate",ru:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0432\u0430\u043a\u0446\u0438\u043d\u0430\u0446\u0438\u0438 \u043e\u0442 COVID-19"}),u=Object(s.a)(b,2),O=u[0],x=u[1],g=Object(c.useState)([{name:"\u0412\u0430\u043a\u0446\u0438\u043d\u0430",type:"VACCINE_CERT"},{name:"\u041f\u0435\u0440\u0435\u0431\u043e\u043b\u0435\u043b",type:"ILLNESS_FACT"},{name:"\u041f\u0426\u0420 \u0442\u0435\u0441\u0442",type:"COVID_TEST"}]),f=Object(s.a)(g,2),m=f[0],C=(f[1],Object(c.useState)(!0)),y=Object(s.a)(C,2),v=y[0],w=(y[1],Object(c.useState)("")),S=Object(s.a)(w,2),k=S[0],T=S[1],I=Object(c.useState)(""),V=Object(s.a)(I,2),A=V[0],D=V[1],P=Object(c.useState)(""),E=Object(s.a)(P,2),_=E[0],N=E[1],q=Object(c.useState)({firsname:"",lastname:"",patronymic:""}),z=Object(s.a)(q,2),R=z[0],J=z[1],U=Object(c.useState)(""),W=Object(s.a)(U,2),F=W[0],L=W[1],H=Object(c.useState)(""),$=Object(s.a)(H,2),B=$[0],K=$[1],M=Object(c.useState)(1),Q=Object(s.a)(M,2),X=Q[0],Y=Q[1];return Object(d.jsxs)(j.p,{id:t,children:[Object(d.jsx)(j.q,{children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"}),Object(d.jsxs)(j.k,{description:"\u0421\u0438\u043c\u0432\u043e\u043b * \u0441\u0442\u0430\u0432\u0438\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438",children:[Object(d.jsx)(j.l,{children:"\u0424\u0418\u041e"}),Object(d.jsx)(j.i,{top:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",children:Object(d.jsx)(j.m,{type:"text",id:"firsname",value:R.firsname,onChange:function(e){J(Object(r.a)(Object(r.a)({},R),{},{firsname:e.target.value}))}})}),Object(d.jsx)(j.i,{top:"\u0418\u043c\u044f",children:Object(d.jsx)(j.m,{type:"text",id:"lastname",value:R.lastname,onChange:function(e){J(Object(r.a)(Object(r.a)({},R),{},{lastname:e.target.value}))}})}),Object(d.jsx)(j.i,{top:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",children:Object(d.jsx)(j.m,{type:"text",id:"patronymic",value:R.patronymic,onChange:function(e){J(Object(r.a)(Object(r.a)({},R),{},{patronymic:e.target.value}))}})})]}),Object(d.jsxs)(j.k,{id:"certData2",children:[Object(d.jsx)(j.l,{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"}),Object(d.jsx)(j.i,{top:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",children:Object(d.jsx)(j.m,{type:"date",id:"brith",value:B,onChange:function(e){K(e.target.value)}})}),Object(d.jsx)(j.i,{top:"\u0421\u0440\u043e\u043a \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",children:Object(d.jsx)(j.m,{type:"date",id:"expire",value:F,onChange:function(e){L(e.target.value)}})}),Object(d.jsxs)(j.i,{top:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442",children:[Object(d.jsx)(j.m,{type:"text",id:"pasport",value:A,onChange:function(e){D(e.target.value)}}),Object(d.jsx)(j.c,{mode:"secondary",onClick:function(){return D(new p.a(/^([0-9]{4} [0-9]{6})?$/).gen())},style:{marginTop:"10px"},children:"\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),Object(d.jsx)(j.u,{}),Object(d.jsxs)(j.i,{top:"\u041d\u043e\u043c\u0435\u0440 \u0441\u0440\u0435\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 (9540 0000 **** ****)",children:[Object(d.jsx)(j.m,{type:"text",id:"numCert",value:_,onChange:function(e){N(e.target.value)}}),Object(d.jsx)(j.c,{mode:"secondary",onClick:function(){return N(new p.a(/^(95400000 [0-9]{4} [0-9]{4})?$/).gen())},style:{marginTop:"10px"},children:"\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),Object(d.jsxs)(j.i,{top:"Hash",children:[Object(d.jsx)(j.m,{type:"text",id:"hash",value:k,onChange:function(e){T(e.target.value)}}),Object(d.jsx)(j.c,{disabled:!(_.length>0),title:"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043e\u043d\u043e\u0432\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0441\u0435\u0440\u0442\u0438\u0432\u0438\u043a\u0430\u0442\u0430",mode:"secondary",onClick:function(){T(h.a.createHash("md5").update(_).digest("hex"))},style:{marginTop:"10px"},children:"\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),Object(d.jsx)(j.c,{modname:"preview",disabled:!v,onClick:function(e){n(e,{preview:{type:l,unrz:_,unrzFull:_,attrs:[{type:"fio",ntitle:"\u0424\u0418\u041e",nentitle:"Full name",nenvalue:"K****** S***** IU******",value:R.lastname.length>0&&R.firsname.replace(/(?!^)[\s\S]/g,"*")+" "+R.lastname.replace(/(?!^)[\s\S]/g,"*")+" "+R.patronymic.replace(/(?!^)[\s\S]/g,"*"),order:1},{type:"birthDate",title:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",entitle:"Date of birth",envalue:B,value:B,order:2},{type:"passport",title:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442",entitle:"National passport",envalue:A.length>0&&A,value:A.length>0&&A,order:3}],title:O.ru,entitle:O.en,status:X.toString(),expiredAt:F,serviceUnavailable:!1},data:{pasport:{pasportValue:A},fio:{preview:R.lastname.length>0&&R.firsname.replace(/(?!^)[\s\S]/g,"*")+" "+R.lastname.replace(/(?!^)[\s\S]/g,"*")+" "+R.patronymic.replace(/(?!^)[\s\S]/g,"*"),fioValue:R},brith:B,expire:F,certNum:_,status:X,type:l,hash:k}})},size:"l",mode:"commerce",stretched:!0,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]}),Object(d.jsxs)(j.k,{children:[Object(d.jsx)(j.l,{children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"}),Object(d.jsx)(j.i,{top:"\u0422\u0438\u043f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430",children:Object(d.jsx)(j.t,{placeholder:"\u0412\u0430\u043a\u0446\u0438\u043d\u0430",onChange:function(e){switch(o(e.target.value),e.target.value){case"VACCINE_CERT":x({en:"COVID-19 vaccination certificate",ru:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0432\u0430\u043a\u0446\u0438\u043d\u0430\u0446\u0438\u0438 \u043e\u0442 COVID-19"});break;case"COVID_TEST":x({en:"COVID-19 test",ru:"\u0410\u043d\u0430\u043b\u0438\u0437 \u043d\u0430 COVID-19"})}},options:m.map((function(e){return{label:e.name,value:e.type}}))})}),Object(d.jsxs)(j.i,{top:"\u0421\u0442\u0430\u0442\u0443\u0441",children:[Object(d.jsx)(j.e,{defaultChecked:!0,onChange:function(){Y(1)},children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d"}),Object(d.jsx)(j.e,{onChange:function(){Y("\u041e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439")},children:"\u041e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439"}),Object(d.jsx)(j.e,{onChange:function(){Y("\u041f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439")},children:"\u041f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439"}),Object(d.jsx)(j.e,{onChange:function(){Y(3)},children:"\u0421\u0440\u043e\u043a \u0438\u0441\u0442\u0451\u043a"})]})]})]})},f=n(488),m=function(e){var t=e.id,n=e.setStory,a=Object(c.useState)(0),i=Object(s.a)(a,2),r=i[0],l=i[1];return Object(d.jsxs)(j.p,{id:t,children:[Object(d.jsx)(j.q,{"data-story":"other",onClick:function(){3==r?(l(0),n({currentTarget:{dataset:{story:"other"}}})):l(r+1)},children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430\u043c\u0438"}),Object(d.jsx)(j.k,{style:{height:"1000px"},children:Object(d.jsx)(j.r,{icon:Object(d.jsx)(f.a,{width:56,height:56})})})]})},C=function(){var e=Object(c.useState)("newCert"),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)({login:"",password:""}),b=Object(s.a)(i,2),O=b[0],h=b[1],x=Object(c.useState)(!1),p=Object(s.a)(x,2),f=p[0],C=(p[1],Object(c.useState)(null)),y=Object(s.a)(C,2),v=y[0],w=y[1],S=Object(c.useState)(),k=Object(s.a)(S,2),T=k[0],I=k[1],V=Object(c.useState)({}),A=Object(s.a)(V,2),D=A[0],P=A[1],E=Object(c.useState)(null),_=Object(s.a)(E,2),N=_[0],q=_[1],z=function(e){return a(e.currentTarget.dataset.story)},R=window.innerWidth>=850,J=function(){w(Object(d.jsx)(j.s,{alignY:"center",alignX:"center",children:Object(d.jsxs)(j.k,{children:[Object(d.jsx)(j.l,{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(d.jsxs)(j.j,{onSubmit:function(e){!function(e){e.preventDefault(),fetch(window.APP.config.apiUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({auth:{login:e.target[0].value,password:e.target[1].value},data:D})}).then((function(e){return e.json()})).then((function(e){I(e)})).catch((function(e){I({error:"notAwalible"})}))}(e),w(null)},children:[Object(d.jsx)(j.i,{status:f,top:"\u041b\u043e\u0433\u0438\u043d",children:Object(d.jsx)(j.m,{type:"text",onChange:function(e){h(Object(r.a)(Object(r.a)({},O),{},{login:e.target.value}))}})}),Object(d.jsx)(j.i,{status:f,top:"\u041f\u0430\u0440\u043e\u043b\u044c",children:Object(d.jsx)(j.m,{type:"text",onChange:function(e){h(Object(r.a)(Object(r.a)({},O),{},{password:e.target.value}))}})})]}),Object(d.jsx)(j.c,{style:{marginLeft:"10px"},onClick:function(){w(null)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})}))},U=Object(d.jsx)(j.o,{viewWidth:"600",activeModal:N,onClose:function(){q(null),I()},children:Object(d.jsxs)(j.n,{id:"preview",children:[T?Object(d.jsx)(j.k,{children:"ok"==T.msg?Object(d.jsxs)(j.g,{children:[Object(d.jsx)(j.l,{children:"\u0421\u0441\u044b\u043b\u043a\u0430"}),Object(d.jsx)(j.i,{children:Object(d.jsx)(j.m,{defaultValue:T.data.link})}),Object(d.jsx)(j.l,{children:"QR \u041a\u043e\u0434"}),Object(d.jsx)("img",{width:"300",height:"300",src:T.data.qr,title:"qr"})]}):Object(d.jsx)(j.g,{children:Object(d.jsxs)(j.z,{children:['\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0430\u0434\u0440\u0435\u0441 "',window.APP.config.apiUrl,'" \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d']})})}):Object(d.jsx)("iframe",{height:"500",src:"./iframe.html?json=".concat(JSON.stringify(D.preview))}),Object(d.jsx)(j.c,{onClick:J,mode:"commerce",size:"l",style:{marginTop:"7px"},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})});return Object(d.jsx)(j.f,{platform:"ios",scheme:"space_gray",children:Object(d.jsx)(j.a,{children:Object(d.jsx)(j.b,{children:Object(d.jsxs)(j.w,{popout:v,modal:U,header:Object(d.jsx)(j.q,{separator:!1}),style:{justifyContent:"center"},children:[R&&Object(d.jsx)(j.v,{fixed:!0,width:280,maxWidth:280,children:Object(d.jsxs)(j.p,{children:[Object(d.jsx)(j.q,{}),Object(d.jsxs)(j.k,{children:[Object(d.jsx)(j.d,{disabled:"newCert"===n,style:"newCert"===n?{backgroundColor:"var(--button_secondary_background)",borderRadius:8}:{},"data-story":"newCert",onClick:z,before:Object(d.jsx)(l.a,{}),children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"}),Object(d.jsx)(j.d,{disabled:"mangeCerts"===n,style:"mangeCerts"===n?{backgroundColor:"var(--button_secondary_background)",borderRadius:8}:{},"data-story":"mangeCerts",onClick:z,before:Object(d.jsx)(o.a,{}),children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c\u0438"})]})]})}),Object(d.jsx)(j.v,{animate:!R,spaced:R,width:R?"560px":"100%",maxWidth:R?"560px":"100%",children:Object(d.jsxs)(j.h,{activeStory:n,tabbar:!R&&Object(d.jsxs)(j.x,{children:[Object(d.jsx)(j.y,{onClick:z,selected:"newCert"===n,"data-story":"newCert",text:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435",children:Object(d.jsx)(l.a,{})}),Object(d.jsx)(j.y,{onClick:z,selected:"mangeCerts"===n,"data-story":"mangeCerts",text:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",children:Object(d.jsx)(o.a,{})})]}),children:[Object(d.jsx)(j.A,{id:"newCert",activePanel:"newCert",children:Object(d.jsx)(g,{auth:J,usemodal:function(e,t){var n=e.currentTarget.attributes.getNamedItem("modname").value;q(n),P(t)},id:"newCert"})}),Object(d.jsx)(j.A,{id:"mangeCerts",activePanel:"mangeCerts",children:Object(d.jsx)(m,{setStory:z,id:"mangeCerts"})}),Object(d.jsx)(j.A,{"data-story":"oher",activePanel:"other",id:"other",children:Object(d.jsx)(u,{id:"other"})})]})})]})})})})};i.a.render(Object(d.jsx)(C,{}),document.getElementById("root"))}},[[487,1,2]]]);
//# sourceMappingURL=main.23caa45d.chunk.js.map